<div class="settings">
  <form class="settings__content" [formGroup]="form">
    <h3 class="settings__title">Настройки автомобиля</h3>

    <div class="settings__first-line">
      <div class="field">
        <label for="model" app-label>Модель автомобиля</label>
        <input id="model" app-input formControlName="name"
               placeholder="Введите модель авто..."
               [invalid]="isNameInvalid">
        <app-error *ngIf="isNameInvalid">Обязательно для заполнения!</app-error>
      </div>

      <div class="field">
        <label for="type" app-label>Категория автомобиля</label>
        <input id="type" app-input formControlName="category"
               placeholder="Введите категорию авто..."
               [invalid]="isCategoryInvalid">
        <app-error *ngIf="isCategoryInvalid">Обязательно для заполнения!</app-error>
      </div>
    </div>

    <div class="field">
      <label for="color" app-label>Доступные цвета</label>
      <div class="field__color">
        <input id="color" class="field__input" app-input
               placeholder="Введите доступные цвета..."
               formControlName="color"
               [invalid]="isColorsInvalid"
        >
        <div class="field__add" (click)="addColor()">
          <svg class="icon" icon="add"></svg>
        </div>
      </div>
      <app-error *ngIf="isColorsInvalid">Обязательно для заполнения!</app-error>
    </div>

    <div class="settings__checkboxes" formArrayName="colors">
      <app-checkbox
        *ngFor="let color of form.get('colors')?.value; let i = index"
        [idName]="i.toString()" [labelName]="color"
        [isChecked]="true"
        (changeCheckbox)="deleteColor(i)"
      ></app-checkbox>
    </div>
  </form>

  <div class="settings__action">
    <div class="settings__left-btns">
      <button app-button (click)="saved.emit()">Сохранить</button>
      <button app-button class="settings__action_cancel" (click)="canceled.emit()">Отменить</button>
    </div>
    <button app-button class="settings__action_delete" (click)="deleted.emit()">Удалить</button>
  </div>
</div>
